{% include head.html %}
{% include top-navigation-bars.html %}

<div class="container">
    
    <nav class="sub-menu">
    	{% assign group = 'Glossary' %} <!--Wherever the word group is used, its being replaced with Glossary. To create a sub menu page for another catorgory, just change glossary to the group name. eg support, or tutorials -->

      	<h2>{{group}}</h2> <!--display name of group as text-->
        
        <ul>
            {% assign sorted_pages = site.pages | sort:"name" %} <!-- creates a new tag called sorted_pages which is every page in the site sorted buy file name (numerical in our case as they are all numbered) -->


            {% for node in sorted_pages %}
              {% if group == node.group %} <!-- lists only pages with 'glossary' as the group name -->

                    {% assign sub_group_title = node.title %} <!-- assigns the group name to sub_group_title so that it can be re-used -->
                    


                        {% if sub_group_title == page.group %} <!-- keeps the sub-menu open on any page within the same catergory -->
                        <details open="open">
                            {% else %}
                        <details>
                        {% endif %}

                        <summary>{{sub_group_title}}</summary> <!-- Displays the group name, opens the sub menu when clicked -->
                        
                      
                        <ul class="sub-menu__nest"> <!-- this unorderd list is the sub menu items, it repeats the above code with a few tweaks to selec different items -->
                            {% for node in sorted_pages %}
                                {% if node.group == sub_group_title %} <!-- if the group of the sub page is the same as the sub_group_title we defined earlier, it will be displayed under here -->

                                    {% if page.url == node.url %} <!-- adds 'active' class if the page url and current url are the same -->
                                        <li class="active"><a href="{{node.url}}">{{node.title}}</a></li>
                                        {% else %}
                                        <li><a href="{{node.url}}">{{node.title}}</a></li>
                                    {% endif %}

                                {% endif %}
                            {% endfor %}
                        </ul>


                    </details>

              {% endif %}
            {% endfor %}
        </ul>
    </nav>



	<main class="language-markup">

    	<div class="page-header">
            <h2 class="page-title">{{ page.title }}</h2>
            <p class="last-updated">Last Updated: {{ page.last-updated | date: "%-d %B %Y" }}</p>
            <hr>
        <div>

		{{ content }}

	</main>

</div> <!-- end container -->
{% include footer.html %}
{% include foot.html %}